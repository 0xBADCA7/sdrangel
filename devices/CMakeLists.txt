project(devices)

find_package(LibUSB)
find_package(LimeSuite)

if (BUILD_DEBIAN)
    add_subdirectory(bladerf)
    add_subdirectory(hackrf)
    if(LIMESUITE_FOUND)
        add_subdirectory(limesdr)
    endif(LIMESUITE_FOUND)
else(BUILD_DEBIAN)
    find_package(LibBLADERF)
    if(LIBUSB_FOUND AND LIBBLADERF_FOUND)
        add_subdirectory(bladerf)
    endif(LIBUSB_FOUND AND LIBBLADERF_FOUND)

    find_package(LibHACKRF)
    if(LIBUSB_FOUND AND LIBHACKRF_FOUND)
        add_subdirectory(hackrf)
    endif(LIBUSB_FOUND AND LIBHACKRF_FOUND)

    if(LIBUSB_FOUND AND LIMESUITE_FOUND)
        add_subdirectory(limesdr)
    endif(LIBUSB_FOUND AND LIMESUITE_FOUND)
endif (BUILD_DEBIAN)
